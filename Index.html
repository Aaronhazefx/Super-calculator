<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cartoon Calm & Love</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Arial Rounded MT Bold', sans-serif;
        }

        :root {
            --pink: #ff69b4;
            --light-pink: #ffb6c1;
            --white: #ffffff;
            --purple: #9370db;
            --light-purple: #d8bfd8;
        }

        body {
            background: linear-gradient(135deg, var(--white) 0%, var(--light-pink) 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .app-container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 25px;
            padding: 15px;
            background: var(--white);
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.2);
        }

        .welcome-text {
            color: var(--purple);
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .subtitle {
            color: var(--pink);
            font-size: 1rem;
        }

        /* Categories */
        .categories {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .category-btn {
            background: linear-gradient(135deg, var(--pink), var(--purple));
            color: white;
            border: none;
            padding: 15px;
            border-radius: 15px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(147, 112, 219, 0.3);
        }

        .category-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(147, 112, 219, 0.4);
        }

        .category-btn i {
            margin-right: 8px;
        }

        /* Cartoon Display */
        .cartoon-section {
            background: var(--white);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.2);
            min-height: 200px;
            position: relative;
            overflow: hidden;
        }

        .cartoon-title {
            color: var(--purple);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .cartoon-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .cartoon {
            width: 80px;
            height: 80px;
            background: var(--light-pink);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            animation: bounce 2s infinite;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .cartoon:nth-child(2) {
            animation-delay: 0.5s;
            background: var(--light-purple);
        }

        .cartoon:nth-child(3) {
            animation-delay: 1s;
            background: #ffd700;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Messages Section */
        .messages-section {
            background: var(--white);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.2);
        }

        .message-tabs {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 2px solid var(--light-pink);
        }

        .message-tab {
            padding: 10px 15px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            color: #666;
            transition: all 0.3s ease;
        }

        .message-tab.active {
            color: var(--purple);
            border-bottom: 3px solid var(--purple);
        }

        .message-content {
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 1.2rem;
            line-height: 1.5;
            color: #555;
            padding: 10px;
        }

        .message-controls {
            display: flex;
            justify-content: center;
            margin-top: 15px;
        }

        .message-btn {
            background: var(--pink);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .message-btn:hover {
            background: var(--purple);
        }

        /* Breathing Exercise */
        .breathing-section {
            background: var(--white);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.2);
        }

        .breathing-title {
            color: var(--purple);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .breathing-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--light-pink), var(--light-purple));
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            color: white;
            transition: all 4s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .breathing-instruction {
            margin-bottom: 15px;
            font-size: 1.1rem;
            color: #666;
        }

        /* Stories Section */
        .stories-section {
            background: var(--white);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.2);
        }

        .stories-title {
            color: var(--purple);
            margin-bottom: 15px;
            font-size: 1.5rem;
            text-align: center;
        }

        .story-content {
            min-height: 150px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 15px;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .story-controls {
            display: flex;
            justify-content: center;
        }

        /* Progress Section */
        .progress-section {
            background: var(--white);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.2);
            text-align: center;
        }

        .progress-title {
            color: var(--purple);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .progress-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 15px;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            color: var(--pink);
            font-weight: bold;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }

        .progress-bar {
            height: 10px;
            background: #f0f0f0;
            border-radius: 5px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--pink), var(--purple));
            width: 65%;
            border-radius: 5px;
        }

        /* Floating Hearts */
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .heart {
            position: absolute;
            color: rgba(255, 182, 193, 0.5);
            font-size: 20px;
            animation: float 15s linear infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="floating-hearts" id="hearts-container"></div>

    <div class="app-container">
        <!-- Header -->
        <div class="header">
            <h1 class="welcome-text">Welcome Back!</h1>
            <p class="subtitle">Your daily dose of calm and love</p>
        </div>

        <!-- Categories -->
        <div class="categories">
            <button class="category-btn" data-section="calm">
                <i class="fas fa-cloud"></i> Calm
            </button>
            <button class="category-btn" data-section="sleep">
                <i class="fas fa-moon"></i> Sleep
            </button>
            <button class="category-btn" data-section="relax">
                <i class="fas fa-spa"></i> Relax
            </button>
            <button class="category-btn" data-section="focus">
                <i class="fas fa-bullseye"></i> Focus
            </button>
        </div>

        <!-- Cartoon Display -->
        <div class="cartoon-section">
            <h2 class="cartoon-title">Your Cartoon Friends</h2>
            <div class="cartoon-container">
                <div class="cartoon">üßΩ</div> <!-- SpongeBob -->
                <div class="cartoon">‚≠ê</div> <!-- Patrick -->
                <div class="cartoon">üç©</div> <!-- Homer Simpson -->
            </div>
        </div>

        <!-- Messages Section -->
        <div class="messages-section">
            <div class="message-tabs">
                <button class="message-tab active" data-type="love">Love Messages</button>
                <button class="message-tab" data-type="calm">Calm Messages</button>
                <button class="message-tab" data-type="funny">Funny Messages</button>
            </div>
            <div class="message-content" id="message-display">
                Click a tab to see messages!
            </div>
            <div class="message-controls">
                <button class="message-btn" id="new-message">New Message</button>
            </div>
        </div>

        <!-- Breathing Exercise -->
        <div class="breathing-section">
            <h2 class="breathing-title">Breathing Exercise</h2>
            <div class="breathing-circle" id="breathing-circle">
                Breathe In
            </div>
            <p class="breathing-instruction" id="breathing-instruction">Click start to begin</p>
            <button class="message-btn" id="breathing-start">Start Breathing</button>
        </div>

        <!-- Stories Section -->
        <div class="stories-section">
            <h2 class="stories-title">Bedtime Stories</h2>
            <div class="story-content" id="story-display">
                Ready for a calming story? Click the button below!
            </div>
            <div class="story-controls">
                <button class="message-btn" id="new-story">New Story</button>
            </div>
        </div>

        <!-- Progress Section -->
        <div class="progress-section">
            <h2 class="progress-title">Your Progress</h2>
            <div class="progress-stats">
                <div class="stat">
                    <div class="stat-number" id="sessions-count">24</div>
                    <div class="stat-label">Sessions</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="streak-count">7</div>
                    <div class="stat-label">Day Streak</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="messages-seen">142</div>
                    <div class="stat-label">Messages</div>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
            <p>Keep going! You're doing amazing!</p>
        </div>
    </div>

    <script>
        // Create floating hearts
        function createHearts() {
            const container = document.getElementById('hearts-container');
            for (let i = 0; i < 15; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.innerHTML = '‚ù§Ô∏è';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 10 + 10) + 's';
                heart.style.fontSize = (Math.random() * 15 + 10) + 'px';
                container.appendChild(heart);
            }
        }

        // Message banks - starting with 50+ messages each (can expand to 1000+)
        const loveMessages = [
            "Every time I see you, my heart does a little happy dance! üíñ",
            "You're the SpongeBob to my Patrick - we just belong together!",
            "I love you more than Homer loves donuts! üç©",
            "You make my heart feel like it's floating on a cloud of happiness!",
            "Being with you feels like a never-ending episode of our favorite cartoon!",
            "You're my favorite person to share silly moments with!",
            "I fall for you more every day, like Bart falling off his skateboard!",
            "Your smile is my favorite sight in the whole world!",
            "I love how we can be completely silly together - just like cartoon characters!",
            "You're the star of my story, just like Patrick is Bikini Bottom's star!",
            "My love for you grows bigger every day, like SpongeBob's laugh!",
            "You're the jellyfish to my SpongeBob - we just fit perfectly!",
            "I'd watch a thousand cartoon marathons with you and never get bored!",
            "You make ordinary moments feel like magical adventures!",
            "I love you more than Peter Griffin loves chicken fights!",
            "You're my favorite notification in this busy world!",
            "Every day with you feels like a special episode of our lives!",
            "You're the reason I believe in happy endings!",
            "I love how we can be completely ourselves around each other!",
            "You're my favorite thought first thing in the morning!",
            "Being with you is better than finding the secret Krabby Patty formula!",
            "You make my heart do the Simpsons couch gag - but in a good way!",
            "I love you more than Stewie loves world domination!",
            "You're the perfect mix of silly and wonderful!",
            "My love for you is bigger than Plankton's plans for the Krabby Patty!",
            "You're the best part of my every day!",
            "I love how we can laugh until we cry together!",
            "You're my favorite adventure buddy!",
            "I love you more than Brian loves martinis!",
            "You make everything better, just like your favorite cartoons!",
            "You're the sunshine in my Bikini Bottom!",
            "I love our inside jokes more than anything!",
            "You're my real-life cartoon character - full of joy and laughter!",
            "I love you more than Moe loves his bar!",
            "You're the reason I look forward to every day!",
            "You make my heart feel like it's in a cartoon musical!",
            "I love how we can be completely ridiculous together!",
            "You're my favorite person to share popcorn with during cartoon marathons!",
            "I love you more than Comic Book Guy loves collectibles!",
            "You're the magic in my ordinary days!",
            "You make my heart do backflips like a cartoon character!",
            "I love our silly conversations more than anything!",
            "You're my real-life superhero!",
            "I love you more than Krusty loves money!",
            "You're the best thing that's ever happened to me!",
            "You make every day feel like a Saturday morning cartoon!",
            "I love how we can be completely goofy together!",
            "You're my favorite person to watch cartoons with!",
            "I love you more than Ned Flanders loves his family!",
            "You're the happiness in my heart!"
        ];

        const calmMessages = [
            "Breathe deeply. This moment is temporary, just like a cartoon episode! üßò‚Äç‚ôÄÔ∏è",
            "You're as strong as SpongeBob facing the Dirty Bubble!",
            "Imagine your worries floating away like Patrick's rock house!",
            "You've survived 100% of your tough days - you're a superhero!",
            "Be as gentle with yourself as SpongeBob is with Gary!",
            "This anxiety is just a commercial break - the show will go on!",
            "You're doing better than you think, just like Homer somehow always does!",
            "Take a moment to notice five things around you - be present!",
            "You're stronger than any challenge, like Bart surviving detention!",
            "Breathe in calm, breathe out worry - you've got this!",
            "Imagine your thoughts as clouds in Springfield's sky - watch them pass!",
            "You're capable of handling this, just like Lisa solving problems!",
            "Be kind to yourself today - you deserve it!",
            "This feeling will pass, just like every cartoon villain's plan!",
            "You're not alone - think of all the cartoon characters who support each other!",
            "Take things one breath at a time, like SpongeBob taking one Krabby Patty at a time!",
            "You're more resilient than you realize!",
            "Notice how your body feels - be curious, not critical!",
            "You've overcome every challenge so far - this is no different!",
            "Imagine yourself in Bikini Bottom - peaceful and surrounded by friends!",
            "You're doing the best you can, and that's enough!",
            "This moment is just a scene in your story - it will change!",
            "You have an entire cartoon squad cheering for you!",
            "Breathe like the ocean waves near the Krusty Krab!",
            "You're braver than you believe, stronger than you seem!",
            "Picture your favorite cartoon moment and let it make you smile!",
            "You're handling this better than Peter Griffin handles most situations!",
            "This too shall pass, like a quick cutaway gag!",
            "You have everything you need within you!",
            "Imagine SpongeBob's laugh washing away your worries!",
            "You're growing through what you're going through!",
            "Be patient with yourself - progress takes time!",
            "You're the main character of your story - write it how you want!",
            "Think of something that made you laugh recently!",
            "You're more capable than you give yourself credit for!",
            "This is just one episode in your amazing series!",
            "You have a whole team of cartoon friends supporting you!",
            "Breathe in courage, breathe out fear!",
            "You're doing amazing, even on tough days!",
            "Imagine Patrick's simple joy - find that in your moment!",
            "You're weathering the storm like a true Bikini Bottom resident!",
            "This challenge is making you stronger!",
            "You have an endless supply of inner strength!",
            "Be as persistent as Plankton trying to get the formula!",
            "You're more wonderful than you realize!",
            "This moment is perfect for a fresh start!",
            "You're surrounded by invisible support!",
            "Breathe like Homer smelling donuts - deep and appreciative!",
            "You're exactly where you need to be right now!",
            "You've got the heart of a cartoon hero!"
        ];

        const funnyMessages = [
            "I love you more than Peter Griffin loves chicken fights! üêî",
            "You're the Patrick to my SpongeBob - sometimes clueless but always loved!",
            "Our love is like Homer's belly - big and impossible to ignore!",
            "You make me laugh harder than Stewie's evil plans backfiring!",
            "I love you more than Comic Book Guy loves his action figures!",
            "You're my favorite distraction, better than any cartoon!",
            "Our relationship is like SpongeBob and Patrick's friendship - weird but wonderful!",
            "You're the jellyfish to my SpongeBob - we just keep coming back to each other!",
            "I love you more than Moe loves his poor decision-making!",
            "You're my favorite person to be ridiculous with!",
            "Our love is like Bart's pranks - unexpectedly delightful!",
            "You make my heart do the Simpsons couch gag every time I see you!",
            "I love you more than Krusty loves cheap tricks!",
            "You're the Squidward to my SpongeBob - you pretend to hate me but you love me!",
            "Our relationship is more stable than Peter's employment history!",
            "You're my favorite person to watch bad TV with!",
            "I love you more than Ned Flanders loves his left-handed store!",
            "You're the Gary to my SpongeBob - my loyal companion!",
            "Our love is like Homer's donut addiction - sweet and never-ending!",
            "You make me smile wider than SpongeBob's grin!",
            "I love you more than Mr. Krabs loves money!",
            "You're the perfect mix of silly and wonderful!",
            "Our relationship is like Bikini Bottom - weird but we love it!",
            "You're my favorite person to share inside jokes with!",
            "I love you more than Plankton loves chaos!",
            "You're the reason my life feels like a cartoon adventure!",
            "Our love is like Bart's skateboard - sometimes wobbly but always fun!",
            "You make ordinary days feel like special episodes!",
            "I love you more than Milhouse loves being Bart's friend!",
            "You're my favorite partner in crime!",
            "Our relationship is like Family Guy cutaways - random but amazing!",
            "You're the Lenny to my Carl - we just get each other!",
            "I love you more than Quagmire loves... well, you know!",
            "You're my favorite person to be completely silly with!",
            "Our love is like SpongeBob's enthusiasm - endless and infectious!",
            "You make my heart feel like it's in a cartoon musical!",
            "I love you more than Principal Skinner loves his mother!",
            "You're the perfect addition to my cartoon cast of characters!",
            "Our relationship is like Homer's brain - simple but effective!",
            "You're my favorite person to watch cartoons with while eating junk food!",
            "I love you more than Peter loves the TV remote!",
            "You're the magical element in my ordinary life!",
            "Our love is like Bart's catchphrases - unforgettable!",
            "You make every day an adventure worth watching!",
            "I love you more than Marge loves her blue hair!",
            "You're my favorite person to create memories with!",
            "Our relationship is like Krabby Patties - secretly delicious!",
            "You're the sunshine in my Springfield!",
            "I love you more than Lisa loves her saxophone!",
            "You're my real-life cartoon character!"
        ];

        const stories = [
            "Once upon a time in Bikini Bottom, SpongeBob discovered that the secret to happiness wasn't in the Krabby Patty formula, but in appreciating the small moments with friends. He learned that true joy comes from within, just like your inner strength that shines through every day! üåü",
            
            "In Springfield, Homer Simpson once faced a day where everything went wrong. But then he realized that even on the toughest days, his family's love made everything better. Remember that you have people who care about you, even when things feel overwhelming! üç©",
            
            "Patrick Star was feeling lost one day, unable to find his way home. But then he remembered that home isn't a place - it's a feeling of safety and love. Wherever you are, you can create that feeling within yourself through deep breaths and positive thoughts! üè†",
            
            "Lisa Simpson once worried about fitting in at school, until she discovered that her uniqueness was her superpower. Your unique qualities make you special, and the world needs exactly what you have to offer! üé∑",
            
            "In Quahog, Peter Griffin learned that asking for help wasn't a sign of weakness, but of strength. Remember that it's okay to reach out when you need support - your cartoon squad is always here for you! üìû",
            
            "Sandy Cheeks felt homesick for Texas until she realized that home had become Bikini Bottom with her friends. Sometimes our definition of home changes, and that's part of life's beautiful journey! ü§†",
            
            "Mr. Krabs was so focused on money that he almost missed the real treasure - his daughter Pearl's love. The greatest treasures in life aren't things, but the moments and people we cherish! üíñ",
            
            "Bart Simpson learned that even the best pranksters need to take breaks and breathe. Taking time for yourself isn't lazy - it's essential for your well-being! üõπ",
            
            "Gary the Snail taught SpongeBob that sometimes the most powerful communication doesn't need words. Your presence and energy can comfort others in ways words never could! üêå",
            
            "In every cartoon adventure, the characters face challenges but always emerge stronger. Your life is an amazing story, and you're the hero growing through every chapter! üìñ"
        ];

        // DOM Elements
        const messageDisplay = document.getElementById('message-display');
        const messageTabs = document.querySelectorAll('.message-tab');
        const newMessageBtn = document.getElementById('new-message');
        const breathingCircle = document.getElementById('breathing-circle');
        const breathingInstruction = document.getElementById('breathing-instruction');
        const breathingStartBtn = document.getElementById('breathing-start');
        const storyDisplay = document.getElementById('story-display');
        const newStoryBtn = document.getElementById('new-story');

        // State
        let currentMessageType = 'love';
        let breathingActive = false;
        let messagesSeen = parseInt(localStorage.getItem('messagesSeen') || '142');
        let sessionsCompleted = parseInt(localStorage.getItem('sessionsCompleted') || '24');
        let currentStreak = parseInt(localStorage.getItem('currentStreak') || '7');

        // Initialize
        function init() {
            createHearts();
            updateProgress();
            displayRandomMessage();
            displayRandomStory();
            
            // Set up message tabs
            messageTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    messageTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    currentMessageType = tab.dataset.type;
                    displayRandomMessage();
                });
            });
            
            // Set up new message button
            newMessageBtn.addEventListener('click', displayRandomMessage);
            
            // Set up breathing exercise
            breathingStartBtn.addEventListener('click', toggleBreathingExercise);
            
            // Set up new story button
            newStoryBtn.addEventListener('click', displayRandomStory);
            
            // Set up category buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const section = btn.dataset.section;
                    alert(`Opening ${section} section! This would show specific ${section} content.`);
                });
            });
        }

        // Display random message based on current type
        function displayRandomMessage() {
            let messages;
            switch(currentMessageType) {
                case 'love': messages = loveMessages; break;
                case 'calm': messages = calmMessages; break;
                case 'funny': messages = funnyMessages; break;
                default: messages = loveMessages;
            }
            
            const randomIndex = Math.floor(Math.random() * messages.length);
            messageDisplay.textContent = messages[randomIndex];
            
            // Update progress
            messagesSeen++;
            localStorage.setItem('messagesSeen', messagesSeen.toString());
            updateProgress();
        }

        // Display random story
        function displayRandomStory() {
            const randomIndex = Math.floor(Math.random() * stories.length);
            storyDisplay.textContent = stories[randomIndex];
        }

        // Breathing exercise
        function toggleBreathingExercise() {
            if (breathingActive) {
                resetBreathingExercise();
                return;
            }
            
            breathingActive = true;
            breathingStartBtn.textContent = 'Stop Breathing';
            
            const phases = [
                { text: "Breathe In", duration: 4000, instruction: "Slowly inhale through your nose", scale: 1.3 },
                { text: "Hold", duration: 2000, instruction: "Hold your breath gently", scale: 1.3 },
                { text: "Breathe Out", duration: 6000, instruction: "Slowly exhale through your mouth", scale: 1.0 },
                { text: "Hold", duration: 2000, instruction: "Pause before the next breath", scale: 1.0 }
            ];
            
            function runPhase(phaseIndex) {
                if (!breathingActive) return;
                
                const phase = phases[phaseIndex];
                breathingCircle.textContent = phase.text;
                breathingInstruction.textContent = phase.instruction;
                breathingCircle.style.transform = `scale(${phase.scale})`;
                
                setTimeout(() => {
                    if (breathingActive) {
                        runPhase((phaseIndex + 1) % phases.length);
                    }
                }, phase.duration);
            }
            
            runPhase(0);
            
            // Update progress
            sessionsCompleted++;
            currentStreak++;
            localStorage.setItem('sessionsCompleted', sessionsCompleted.toString());
            localStorage.setItem('currentStreak', currentStreak.toString());
            updateProgress();
        }

        function resetBreathingExercise() {
            breathingActive = false;
            breathingCircle.style.transform = 'scale(1)';
            breathingCircle.textContent = 'Breathe In';
            breathingInstruction.textContent = 'Click start to begin';
            breathingStartBtn.textContent = 'Start Breathing';
        }

        // Update progress displays
        function updateProgress() {
            document.getElementById('sessions-count').textContent = sessionsCompleted;
            document.getElementById('streak-count').textContent = currentStreak;
            document.getElementById('messages-seen').textContent = messagesSeen;
        }

        // Initialize the app
        init();
    </script>
</body>
</html>
